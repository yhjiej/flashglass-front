(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push(["chunks/[root of the server]__f30355._.js", {

"[externals]/node:async_hooks [external] (node:async_hooks, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("node:async_hooks", () => require("node:async_hooks"));

module.exports = mod;
}}),
"[externals]/node:buffer [external] (node:buffer, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("node:buffer", () => require("node:buffer"));

module.exports = mod;
}}),
"[project]/src/messages/en.json (json)": ((__turbopack_context__) => {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_export_value__(JSON.parse("{\"UI\":{\"datePicker\":{\"label\":\"Pick a date\"},\"showMore\":{\"more\":\"Show more\",\"less\":\"Show less\"}},\"auth\":{\"login\":{\"title\":\"Login to your account\",\"description\":\"Login to access your account\",\"form\":{\"email\":\"Email\",\"password\":\"Password\",\"submit\":\"Login\",\"forgot\":\"Forgot password?\",\"registerLink\":\"Register\",\"orContinue\":\"Or continue with\",\"google\":\"Google login\",\"noAccount\":\"Don't have an account?\",\"register\":\"Register\",\"errors\":{\"loginFailed\":\"Login failed\",\"loginFailedDescription\":\"Please check your email and password\",\"email\":\"Email is required\",\"password\":\"Password is required\"}}},\"register\":{\"title\":\"Create an account\",\"description\":\"Create an account to access our services\",\"form\":{\"fisrtName\":\"First name\",\"lastName\":\"Last name\",\"birthDate\":\"Birth date\",\"birthDatePlaceholder\":\"YYYY/MM/DD\",\"email\":\"Email\",\"password\":\"Password\",\"confirmPassword\":\"Confirm password\",\"submit\":\"Register\",\"alreadyAccount\":\"Already have an account?\",\"login\":\"Login\",\"orContinue\":\"Or continue with\",\"google\":\"Google login\",\"errors\":{\"title\":\"Error\",\"generic\":\"Registration failed\",\"firstName\":\"First name is required\",\"lastName\":\"Last name is required\",\"birthDate\":\"Birth date is required\",\"birthDateAge\":\"You must be at least 18 years old\",\"email\":\"Email is required\",\"emailInvalid\":\"Email is invalid\",\"password\":\"Password is required\",\"passwordLength\":\"Password must be at least 8 characters\"}}},\"forgotPassword\":{\"title\":\"Forgot password\",\"description\":\"Enter your email to reset your password\",\"form\":{\"email\":\"Email\",\"submit\":\"Reset password\",\"login\":\"Login\",\"errors\":{\"email\":\"Email is required\",\"emailInvalid\":\"Email is invalid\"}},\"success\":{\"title\":\"Email sent\",\"description\":\"An email has been sent to your email address\"},\"failed\":{\"title\":\"Failed to send email\",\"description\":\"Please check your email and try again\"}},\"otp\":{\"title\":\"Verification code\",\"description\":\"Enter the verification code sent to your email\",\"form\":{\"otp\":\"Verification code\",\"submit\":\"Submit\",\"resend\":\"Resend code\"},\"resend\":{\"success\":\"Code sent successfully\",\"successDescription\":\"The code has been sent to your email\",\"error\":\"Failed to send code\",\"errorDescription\":\"Please try again\"},\"check\":{\"success\":\"Code verified successfully\",\"successDescription\":\"You will be redirected to the login page\",\"error\":\"Invalid code\",\"errorDescription\":\"Please check the code and try again\"}},\"updatePassword\":{\"title\":\"Update password\",\"description\":\"Enter your new password\",\"form\":{\"password\":\"Password\",\"confirmPassword\":\"Confirm password\",\"submit\":\"Update password\",\"errors\":{\"password\":\"Password is required\",\"passwordLength\":\"Password must be at least 8 characters\",\"confirmPassword\":\"Confirm password is required\",\"confirmPasswordMatch\":\"Passwords do not match\"}},\"success\":{\"title\":\"Password updated\",\"description\":\"Your password has been updated successfully\"},\"failed\":{\"title\":\"Failed to update password\",\"description\":\"Please check your password and try again\"}}},\"layout\":{\"nav\":{\"draft\":\"Draft\",\"cart\":\"Cart\",\"account\":\"Account\",\"login\":\"Login\",\"logout\":\"Logout\",\"register\":\"Register\",\"seeAll\":\"See all\",\"myOrders\":\"My orders\",\"mySettings\":\"My settings\",\"personalDetails\":\"Personal details\"}},\"homepage\":{\"products\":{\"title\":\"Our Products\",\"description\":\"ready to discover our products?\",\"buyNow\":\"Buy now\",\"seeAll\":\"See all\"},\"faq\":{\"title\":\"Frequently Asked Questions\",\"description\":\"Do you have any questions?\"}},\"products\":{\"startFrom\":\"Start from\",\"getStarted\":\"Get started\",\"chooseProduct\":\"Choose a product\"}}"));}}),
"[project]/src/messages/fr.json (json)": ((__turbopack_context__) => {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
__turbopack_export_value__(JSON.parse("{\"UI\":{\"datePicker\":{\"label\":\"Choisissez une date\"},\"showMore\":{\"more\":\"Voir plus\",\"less\":\"Voir moins\"}},\"auth\":{\"login\":{\"title\":\"Connexion à votre compte\",\"description\":\"Connectez-vous pour accéder à votre compte\",\"form\":{\"email\":\"Email\",\"password\":\"Mot de passe\",\"submit\":\"Se connecter\",\"forgot\":\"Mot de passe oublié ?\",\"registerLink\":\"Inscrivez-vous\",\"orContinue\":\"Ou continuez avec\",\"google\":\"connexion avec Google\",\"noAccount\":\"Pas encore de compte ?\",\"register\":\"Inscrivez-vous\",\"errors\":{\"loginFailed\":\"Échec de la connexion\",\"loginFailedDescription\":\"Veuillez vérifier votre email et votre mot de passe\",\"email\":\"L'email est requis\",\"password\":\"Le mot de passe est requis\"}}},\"register\":{\"title\":\"Créer un compte\",\"description\":\"Créez un compte pour accéder à nos services\",\"form\":{\"fisrtName\":\"Prénom\",\"lastName\":\"Nom\",\"birthDate\":\"Date de naissance\",\"birthDatePlaceholder\":\"AAAA/MM/JJ\",\"email\":\"Email\",\"password\":\"Mot de passe\",\"submit\":\"S'inscrire\",\"alreadyAccount\":\"Déjà un compte ?\",\"login\":\"Connectez-vous\",\"orContinue\":\"Ou continuez avec\",\"google\":\"connexion avec Google\",\"errors\":{\"title\":\"Erreur\",\"generic\":\"Inscription échouée\",\"firstName\":\"Le prénom est requis\",\"lastName\":\"Le nom est requis\",\"birthDate\":\"La date de naissance est requise\",\"birthDateAge\":\"Vous devez avoir au moins 18 ans\",\"email\":\"L'email est requis\",\"emailInvalid\":\"L'email est invalide\",\"password\":\"Le mot de passe est requis\",\"passwordLength\":\"Le mot de passe doit contenir au moins 8 caractères\"}}},\"forgotPassword\":{\"title\":\"Mot de passe oublié\",\"description\":\"Entrez votre email pour réinitialiser votre mot de passe\",\"form\":{\"email\":\"Email\",\"submit\":\"Réinitialiser le mot de passe\",\"login\":\"Se connecter\",\"errors\":{\"email\":\"L'email est requis\",\"emailInvalid\":\"L'email est invalide\"}},\"success\":{\"title\":\"Email envoyé\",\"description\":\"Un email a été envoyé à votre adresse email\"},\"failed\":{\"title\":\"Échec de l'envoi de l'email\",\"description\":\"Veuillez vérifier votre email et réessayer\"}},\"otp\":{\"title\":\"Code de vérification\",\"description\":\"Entrez le code de vérification envoyé à votre email\",\"form\":{\"otp\":\"Code de vérification\",\"submit\":\"Valider\",\"resend\":\"Renvoyer le code\"},\"resend\":{\"success\":\"Le code a été renvoyé\",\"successDescription\":\"Vérifiez votre boîte de réception\",\"error\":\"Impossible de renvoyer le code\",\"errorDescription\":\"Veuillez réessayer plus tard\"},\"check\":{\"success\":\"Code vérifié avec succès\",\"successDescription\":\"Vous allez être redirigé vers la page de connexion\",\"error\":\"Code invalide\",\"errorDescription\":\"Veuillez vérifier le code et réessayer\"}},\"updatePassword\":{\"title\":\"Mettre à jour le mot de passe\",\"description\":\"Entrez votre nouveau mot de passe\",\"form\":{\"password\":\"Nouveau mot de passe\",\"confirmPassword\":\"Confirmer le mot de passe\",\"submit\":\"Mettre à jour le mot de passe\",\"errors\":{\"password\":\"Le mot de passe est requis\",\"passwordLength\":\"Le mot de passe doit contenir au moins 8 caractères\",\"confirmPassword\":\"Confirmer le mot de passe est requis\",\"confirmPasswordMatch\":\"Les mots de passe ne correspondent pas\"}},\"success\":{\"title\":\"Mot de passe mis à jour\",\"description\":\"Votre mot de passe a été mis à jour avec succès\"},\"failed\":{\"title\":\"Échec de la mise à jour du mot de passe\",\"description\":\"Veuillez vérifier votre mot de passe et réessayer\"}}},\"layout\":{\"nav\":{\"draft\":\"Rédiger\",\"cart\":\"Panier\",\"account\":\"Compte\",\"login\":\"Connexion\",\"logout\":\"Déconnexion\",\"register\":\"Inscription\",\"seeAll\":\"Voir tout\",\"myOrders\":\"Mes commandes\",\"mySettings\":\"Mes paramètres\",\"personalDetails\":\"Détails personnels\"}},\"homepage\":{\"products\":{\"title\":\"Nos produits\",\"description\":\"Prêt à découvrir nos produits ?\",\"buyNow\":\"Acheter maintenant\",\"seeAll\":\"Voir tout\"},\"faq\":{\"title\":\"Foire aux questions\",\"description\":\"Vous avez des questions ? Nous avons des réponses\"}},\"products\":{\"startFrom\":\"À partir de\",\"getStarted\":\"Commencer\",\"chooseProduct\":\"Choisissez un produit\"}}"));}}),
"[project]/src/i18n/request.ts [middleware] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/src/i18n/routing.ts [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$server$2f$react$2d$server$2f$getRequestConfig$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$export__default__as__getRequestConfig$3e$__ = __turbopack_import__("[project]/node_modules/next-intl/dist/esm/server/react-server/getRequestConfig.js [middleware] (ecmascript) <export default as getRequestConfig>");
;
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$server$2f$react$2d$server$2f$getRequestConfig$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$export__default__as__getRequestConfig$3e$__["getRequestConfig"])(async ({ requestLocale })=>{
    // This typically corresponds to the `[locale]` segment
    let locale = await requestLocale;
    // Ensure that a valid locale is used
    if (!locale || !__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["routing"].locales.includes(locale)) {
        locale = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["routing"].defaultLocale;
    }
    return {
        locale,
        messages: (await __turbopack_module_context__({
            "../messages/en.json": {
                id: ()=>"[project]/src/messages/en.json (json)",
                module: ()=>Promise.resolve().then(()=>__turbopack_import__("[project]/src/messages/en.json (json)"))
            },
            "../messages/fr.json": {
                id: ()=>"[project]/src/messages/fr.json (json)",
                module: ()=>Promise.resolve().then(()=>__turbopack_import__("[project]/src/messages/fr.json (json)"))
            }
        }).import(`../messages/${locale}.json`)).default
    };
});
}}),
"[project]/src/i18n/routing.ts [middleware] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "Link": (()=>Link),
    "getPathname": (()=>getPathname),
    "redirect": (()=>redirect),
    "routing": (()=>routing),
    "usePathname": (()=>usePathname),
    "useRouter": (()=>useRouter)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$routing$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-intl/dist/routing.js [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$navigation$2f$react$2d$server$2f$createNavigation$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$export__default__as__createNavigation$3e$__ = __turbopack_import__("[project]/node_modules/next-intl/dist/esm/navigation/react-server/createNavigation.js [middleware] (ecmascript) <export default as createNavigation>");
;
;
const routing = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$routing$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["defineRouting"])({
    // A list of all locales that are supported
    locales: [
        'en',
        'fr'
    ],
    // Used when no locale matches
    defaultLocale: 'fr'
});
const { Link, redirect, usePathname, useRouter, getPathname } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$navigation$2f$react$2d$server$2f$createNavigation$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$export__default__as__createNavigation$3e$__["createNavigation"])(routing);
}}),
"[project]/src/api/bo/index.ts [middleware] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "BO_BASE_URL": (()=>BO_BASE_URL)
});
const BO_BASE_URL = ("TURBOPACK compile-time value", "http://localhost:8055");
}}),
"[project]/src/api/bo/auth.ts [middleware] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "createRequest": (()=>createRequest),
    "fetchCheckOTP": (()=>fetchCheckOTP),
    "fetchForgetPassword": (()=>fetchForgetPassword),
    "fetchLogin": (()=>fetchLogin),
    "fetchRefreshToken": (()=>fetchRefreshToken),
    "fetchRegister": (()=>fetchRegister),
    "fetchResendOTP": (()=>fetchResendOTP),
    "fetchUpdatePassword": (()=>fetchUpdatePassword)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/src/api/bo/index.ts [middleware] (ecmascript)");
;
async function fetchRefreshToken(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/refresh`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchLogin', error);
        return {
            error
        };
    }
}
async function fetchLogin(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/login`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchLogin', error);
        return {
            error
        };
    }
}
async function fetchRegister(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/register`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchRegister', error);
        return {
            error
        };
    }
}
async function fetchForgetPassword(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/forgetPassword`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchForgetPassword', error);
        return {
            error
        };
    }
}
async function fetchUpdatePassword(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/resetPassword`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchForgetPassword', error);
        return {
            error
        };
    }
}
async function fetchResendOTP(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/resendEmailOtp`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchResendOtp', error);
        return {
            error
        };
    }
}
async function fetchCheckOTP(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/auth/verifyOtp`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] fetchCheckOtp', error);
        return {
            error
        };
    }
}
async function createRequest(fetcher, payload) {
    try {
        const response = await fetcher(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$index$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["BO_BASE_URL"]}/items/request`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        return {
            data
        };
    } catch (error) {
        console.error('[ERROR] create request', error);
        return {
            error
        };
    }
}
}}),
"[project]/src/lib/sessions.ts [middleware] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "checkAuthAction": (()=>checkAuthAction),
    "deleteSessionTokenCookie": (()=>deleteSessionTokenCookie),
    "logoutAction": (()=>logoutAction),
    "saveGoogleCredentialsToSession": (()=>saveGoogleCredentialsToSession),
    "setSessionTokenCookie": (()=>setSessionTokenCookie),
    "validateSession": (()=>validateSession)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$auth$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/src/api/bo/auth.ts [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/src/i18n/routing.ts [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$api$2f$headers$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/next/dist/esm/api/headers.js [middleware] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$cookies$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/esm/server/request/cookies.js [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$jose$2f$dist$2f$browser$2f$util$2f$decode_jwt$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/jose/dist/browser/util/decode_jwt.js [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$server$2f$react$2d$server$2f$getLocale$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$export__default__as__getLocale$3e$__ = __turbopack_import__("[project]/node_modules/next-intl/dist/esm/server/react-server/getLocale.js [middleware] (ecmascript) <export default as getLocale>");
'use server';
;
;
;
;
;
async function setSessionTokenCookie(accessToken, refreshToken, expires) {
    const cookieStore = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$cookies$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["cookies"])();
    const accessTokenexpiresAt = new Date(Date.now() + expires);
    const refreshTokenexpiresAt = new Date(Date.now() + 1000 * 60 * 60 * 24 * 30) // 30 days
    ;
    cookieStore.set('accessToken', accessToken, {
        httpOnly: true,
        sameSite: 'lax',
        secure: ("TURBOPACK compile-time value", "development") === 'production',
        expires: accessTokenexpiresAt,
        path: '/'
    });
    cookieStore.set('refreshToken', refreshToken, {
        httpOnly: true,
        sameSite: 'lax',
        secure: ("TURBOPACK compile-time value", "development") === 'production',
        expires: refreshTokenexpiresAt
    });
}
async function deleteSessionTokenCookie() {
    const cookieStore = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$cookies$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["cookies"])();
    cookieStore.set('accessToken', '', {
        httpOnly: true,
        sameSite: 'lax',
        secure: ("TURBOPACK compile-time value", "development") === 'production',
        maxAge: 0,
        path: '/'
    });
    cookieStore.set('refreshToken', '', {
        httpOnly: true,
        sameSite: 'lax',
        secure: ("TURBOPACK compile-time value", "development") === 'production',
        maxAge: 0
    });
}
async function validateSession() {
    const cookieStore = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$cookies$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["cookies"])();
    const accessToken = cookieStore.get('accessToken')?.value;
    const refreshToken = cookieStore.get('refreshToken')?.value;
    const decodedAccessToken = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$jose$2f$dist$2f$browser$2f$util$2f$decode_jwt$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["decodeJwt"])(accessToken);
    const isExpired = decodedAccessToken.exp < Date.now() / 1000;
    if (isExpired) {
        if (refreshToken) {
            const response = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$api$2f$bo$2f$auth$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["fetchRefreshToken"])(fetch, {
                refresh_token: refreshToken
            });
            if (response?.data?.access_token) {
                setSessionTokenCookie(response.data.access_token, response.data.refresh_token, response.data.expires);
                // Access token is not expired and refreshed successfully
                return true;
            }
        }
    } else return true;
    return false;
}
async function saveGoogleCredentialsToSession(request) {
    const url = new URL(request.url);
    if (url.searchParams?.has('access_token') && url.searchParams?.has('refresh_token') && url.searchParams?.has('expires')) {
        const accessToken = url.searchParams?.get('access_token');
        const refreshToken = url.searchParams?.get('refresh_token');
        const expires = Number(url.searchParams?.get('expires'));
        await setSessionTokenCookie(accessToken, refreshToken, expires);
        return true;
    }
    return false;
}
async function checkAuthAction() {
    const cookieStore = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$cookies$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["cookies"])();
    return Boolean(cookieStore.get('accessToken')?.value);
}
async function logoutAction() {
    const locale = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$esm$2f$server$2f$react$2d$server$2f$getLocale$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$export__default__as__getLocale$3e$__["getLocale"])();
    await deleteSessionTokenCookie();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["redirect"])({
        locale,
        href: '/'
    });
}
}}),
"[project]/src/middleware.ts [middleware] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "config": (()=>config),
    "default": (()=>middleware)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$api$2f$server$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_import__("[project]/node_modules/next/dist/esm/api/server.js [middleware] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/src/i18n/routing.ts [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$sessions$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/src/lib/sessions.ts [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/dist/esm/server/web/spec-extension/response.js [middleware] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$middleware$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next-intl/dist/middleware.js [middleware] (ecmascript)");
;
;
;
;
async function middleware(request) {
    const url = new URL(request.url);
    // handle google authentification
    if (url?.pathname?.includes('/auth/google/callback')) {
        const isSaved = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$sessions$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["saveGoogleCredentialsToSession"])(request);
        if (isSaved) {
            url.pathname = '/';
            url.search = '';
            return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["NextResponse"].redirect(url);
        }
    }
    const handleI18nRouting = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$intl$2f$dist$2f$middleware$2e$js__$5b$middleware$5d$__$28$ecmascript$29$__["default"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$i18n$2f$routing$2e$ts__$5b$middleware$5d$__$28$ecmascript$29$__["routing"]);
    return handleI18nRouting(request);
}
const config = {
    // Match only internationalized pathnames
    matcher: [
        '/',
        '/(fr|en)/:path*'
    ]
};
}}),
}]);

//# sourceMappingURL=%5Broot%20of%20the%20server%5D__f30355._.js.map